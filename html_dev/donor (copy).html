<!DOCTYPE html>
<html>
    <head>
        <title>Bludo - Blood donation management system</title>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.css" />
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
        <link type="text/css" rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/css/materialize.min.css" media="screen,projection"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <a href="donor (copy).html"></a>
        <link rel="stylesheet" href="./l.geosearch.css" />

        <style>
            body {
                padding: 0;
                margin: 0;
            }
            html, body, #map, .row-fluid {
                height: 100%;
            }
            #map {
                width: 100%;
            }
        </style>
    </head>
    <body>	
        <div style="height:100%">
            <div id="map">
                <div style="position: relative; z-index: 1000; padding-left: 10px;padding-right: 10px">
                    <div class="fixed-action-btn">
                        <a class="btn-floating btn-large waves-effect waves-light red modal-trigger" href="#posting" id="add-posting"><i class="material-icons">add</i></a> <!-- href="#success" -->
                    </div>
                </div>
            </div>
            <div id="posting" class="modal bottom-sheet" style="z-index: 9999;">
                <div class="modal-content">
                    <input placeholder="Your first name" id="first-name" type="text">
                    <input placeholder="Your last name" id="last-name" type="text">
                    <input id="email" placeholder="Your email address" type="email" class="validate">
                    <input id="tel" placeholder="Your contact number" type="tel" class="validate">
                    <input placeholder="Your address" id="address" type="text">
                    <select id="blood-group">
                        <option value="" disabled selected>Choose your bloodtype</option>
                        <option value="O−">O−</option>
                        <option value="O+">O+</option>
                        <option value="A+−">A+−</option>
                        <option value="B−">B−</option>
                        <option value="B+">B+</option>
                        <option value="AB−">AB−</option>
                        <option value="AB+">AB+</option>
                    </select>
                    <div class="modal-footer">
                        <a href="/posting/new/submit" id="new" class="modal-action modal-close waves-effect waves-green btn-flat">New posting</a>
                    </div>
                </div>
            </div>
        </div>
        <script src="http://cdn.leafletjs.com/leaflet/v0.7.7/leaflet.js"></script>
        <script src="./l.control.geosearch.js"></script>
        <script src="./l.geosearch.provider.google.js"></script>
        <script>
            var map = L.map('map').setView([19.42705, -99.127571], 18);
            L.tileLayer('https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=pk.eyJ1IjoiaXZhbnNhYmlrIiwiYSI6ImNpa2l0dWlmeTA0c2x0emo3cms2MGJwZGMifQ.U9z4vWm8_4uUAHipnDE_1w', {
                maxZoom: 18,
                id: 'mapbox.streets'
            }).addTo(map);

            /*
             var options = {
             offset:  new L.Point(0, -30)
             };
             var popup = L.popup(options);
             */

            var marker = L.marker([19.42705, -99.127571]).addTo(map)

            new L.Control.GeoSearch({
                provider: new L.GeoSearch.Provider.Google(),
                position: 'topcenter',
                showMarker: false,
                retainZoomLevel: true,
            }).addTo(map);

            function onMapClick(e) {
                marker
                        .setLatLng(e.latlng);
            }
            map.on('click', onMapClick);
        </script>
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
        <script>
            $(document).ready(function () {
                $('.modal-trigger').leanModal();
                $('select').material_select();
            });
        </script>
    </body>
</html>